import time
import random
import pytest
from explorer_auto.common.yaml_util import read_yaml_by_key
from explorer_auto.action.action_explorer import ActionExplorer
from explorer_auto.interface.interface_explorer import InterfaceExplorer

class Testsnapshot:

    @pytest.mark.snapshot
    def test_snapshot(self):
        # 创建快照
        Parameters = [
            {"name":"5个数据","notes":"QA","space":"demo_basketballplayer","data":"{\"imagesCache\":[],\"name\":\"demo_basketballplayer\",\"space\":\"demo_basketballplayer\",\"nowDataMap\":{\"player102\":{\"id\":\"player102\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":33,\"name\":\"LaMarcus Aldridge\"}},\"color\":\"#FF7875\",\"x\":-2.871661242132006e-15,\"y\":170.4171690600338,\"label\":\"player102\",\"vx\":-7.28583859910259e-18,\"vy\":0.05283661135589722,\"__indexColor\":\"#000005\",\"index\":0},\"player106\":{\"id\":\"player106\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":25,\"name\":\"Kyle Anderson\"}},\"color\":\"#FF7875\",\"x\":162.26911528928042,\"y\":52.72424701222291,\"label\":\"player106\",\"vx\":0.05293665260711453,\"vy\":0.01719449015869909,\"__indexColor\":\"#00000a\",\"index\":1},\"player115\":{\"id\":\"player115\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":40,\"name\":\"Kobe Bryant\"}},\"color\":\"#FF7875\",\"x\":100.16895626609008,\"y\":-137.87074019658473,\"label\":\"player115\",\"vx\":0.031064500462655322,\"vy\":-0.04275660930363182,\"__indexColor\":\"#00000f\",\"index\":2},\"player129\":{\"id\":\"player129\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":37,\"name\":\"Dwyane Wade\"}},\"color\":\"#FF7875\",\"x\":-100.16895626609005,\"y\":-137.87074019658476,\"label\":\"player129\",\"vx\":-0.031064500462655315,\"vy\":-0.042756609303631815,\"__indexColor\":\"#000014\",\"index\":3},\"player138\":{\"id\":\"player138\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":38,\"name\":\"Paul Gasol\"}},\"color\":\"#FF7875\",\"x\":-162.26911528928045,\"y\":52.724247012222875,\"label\":\"player138\",\"vx\":-0.05293665260711455,\"vy\":0.017194490158699085,\"__indexColor\":\"#000019\",\"index\":4}},\"nodes\":[\"player102\",\"player106\",\"player115\",\"player129\",\"player138\"],\"links\":[],\"nodesSelected\":[],\"linksSelected\":[],\"nodeHovering\":null,\"nodeDragging\":null,\"hideTooltip\":false,\"linkHovering\":null,\"filterIds\":[],\"handleMode\":\"\",\"exploreRules\":{\"edgeTypes\":[],\"edgeDirection\":\"outgoing\",\"stepsType\":\"single\",\"step\":1,\"vertexStyle\":\"groupByTag\"},\"tagsFields\":[],\"tags\":[\"player\",\"team\"],\"edgeTypes\":[\"follow\",\"serve\"],\"spaceVidType\":\"FIXED_STRING(32)\",\"edgesFields\":[],\"nodeVidShow\":true,\"showTagFields\":[],\"showEdgeFields\":[],\"filterExclusionIds\":{},\"layout\":\"force\",\"viewMode\":\"2d\",\"showTableData\":false,\"detectionMode\":\"\",\"tableData\":{},\"edgePropsCalcItems\":[],\"transform\":{\"k\":1.001,\"x\":4.9950049950049955,\"y\":35.298035298035224},\"threeGraphData\":{\"mode\":1},\"vertexFilters\":[],\"tagFilteredSet\":[]}"},
            {"name":"无数据","space":"demo_basketballplayer","data":"{\"imagesCache\":[],\"name\":\"demo_basketballplayer\",\"space\":\"demo_basketballplayer\",\"nowDataMap\":{\"player102\":{\"id\":\"player102\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":33,\"name\":\"LaMarcus Aldridge\"}},\"color\":\"#FF7875\",\"x\":-2.871661242132006e-15,\"y\":170.4171690600338,\"label\":\"player102\",\"vx\":-7.28583859910259e-18,\"vy\":0.05283661135589722,\"__indexColor\":\"#000005\",\"index\":0},\"player106\":{\"id\":\"player106\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":25,\"name\":\"Kyle Anderson\"}},\"color\":\"#FF7875\",\"x\":162.26911528928042,\"y\":52.72424701222291,\"label\":\"player106\",\"vx\":0.05293665260711453,\"vy\":0.01719449015869909,\"__indexColor\":\"#00000a\",\"index\":1},\"player115\":{\"id\":\"player115\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":40,\"name\":\"Kobe Bryant\"}},\"color\":\"#FF7875\",\"x\":100.16895626609008,\"y\":-137.87074019658473,\"label\":\"player115\",\"vx\":0.031064500462655322,\"vy\":-0.04275660930363182,\"__indexColor\":\"#00000f\",\"index\":2},\"player129\":{\"id\":\"player129\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":37,\"name\":\"Dwyane Wade\"}},\"color\":\"#FF7875\",\"x\":-100.16895626609005,\"y\":-137.87074019658476,\"label\":\"player129\",\"vx\":-0.031064500462655315,\"vy\":-0.042756609303631815,\"__indexColor\":\"#000014\",\"index\":3},\"player138\":{\"id\":\"player138\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":38,\"name\":\"Paul Gasol\"}},\"color\":\"#FF7875\",\"x\":-162.26911528928045,\"y\":52.724247012222875,\"label\":\"player138\",\"vx\":-0.05293665260711455,\"vy\":0.017194490158699085,\"__indexColor\":\"#000019\",\"index\":4}},\"nodes\":[],\"links\":[],\"nodesSelected\":[],\"linksSelected\":[],\"nodeHovering\":null,\"nodeDragging\":null,\"hideTooltip\":false,\"linkHovering\":null,\"filterIds\":[],\"handleMode\":\"\",\"exploreRules\":{\"edgeTypes\":[],\"edgeDirection\":\"outgoing\",\"stepsType\":\"single\",\"step\":1,\"vertexStyle\":\"groupByTag\"},\"tagsFields\":[],\"tags\":[\"player\",\"team\"],\"edgeTypes\":[\"follow\",\"serve\"],\"spaceVidType\":\"FIXED_STRING(32)\",\"edgesFields\":[],\"nodeVidShow\":true,\"showTagFields\":[],\"showEdgeFields\":[],\"filterExclusionIds\":{},\"layout\":\"force\",\"viewMode\":\"2d\",\"showTableData\":false,\"detectionMode\":\"\",\"tableData\":{},\"edgePropsCalcItems\":[],\"transform\":{\"k\":1.001,\"x\":1.9980019980019983,\"y\":19.647019647019555},\"threeGraphData\":{\"mode\":1},\"vertexFilters\":[],\"tagFilteredSet\":[]}"},
            {"name":"重复名称","space":"demo_basketballplayer","data":"{\"imagesCache\":[],\"name\":\"demo_basketballplayer\",\"space\":\"demo_basketballplayer\",\"nowDataMap\":{\"player102\":{\"id\":\"player102\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":33,\"name\":\"LaMarcus Aldridge\"}},\"color\":\"#FF7875\",\"x\":-2.871661242132006e-15,\"y\":170.4171690600338,\"label\":\"player102\",\"vx\":-7.28583859910259e-18,\"vy\":0.05283661135589722,\"__indexColor\":\"#000005\",\"index\":0},\"player106\":{\"id\":\"player106\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":25,\"name\":\"Kyle Anderson\"}},\"color\":\"#FF7875\",\"x\":162.26911528928042,\"y\":52.72424701222291,\"label\":\"player106\",\"vx\":0.05293665260711453,\"vy\":0.01719449015869909,\"__indexColor\":\"#00000a\",\"index\":1},\"player115\":{\"id\":\"player115\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":40,\"name\":\"Kobe Bryant\"}},\"color\":\"#FF7875\",\"x\":100.16895626609008,\"y\":-137.87074019658473,\"label\":\"player115\",\"vx\":0.031064500462655322,\"vy\":-0.04275660930363182,\"__indexColor\":\"#00000f\",\"index\":2},\"player129\":{\"id\":\"player129\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":37,\"name\":\"Dwyane Wade\"}},\"color\":\"#FF7875\",\"x\":-100.16895626609005,\"y\":-137.87074019658476,\"label\":\"player129\",\"vx\":-0.031064500462655315,\"vy\":-0.042756609303631815,\"__indexColor\":\"#000014\",\"index\":3},\"player138\":{\"id\":\"player138\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":38,\"name\":\"Paul Gasol\"}},\"color\":\"#FF7875\",\"x\":-162.26911528928045,\"y\":52.724247012222875,\"label\":\"player138\",\"vx\":-0.05293665260711455,\"vy\":0.017194490158699085,\"__indexColor\":\"#000019\",\"index\":4}},\"nodes\":[],\"links\":[],\"nodesSelected\":[],\"linksSelected\":[],\"nodeHovering\":null,\"nodeDragging\":null,\"hideTooltip\":false,\"linkHovering\":null,\"filterIds\":[],\"handleMode\":\"\",\"exploreRules\":{\"edgeTypes\":[],\"edgeDirection\":\"outgoing\",\"stepsType\":\"single\",\"step\":1,\"vertexStyle\":\"groupByTag\"},\"tagsFields\":[],\"tags\":[\"player\",\"team\"],\"edgeTypes\":[\"follow\",\"serve\"],\"spaceVidType\":\"FIXED_STRING(32)\",\"edgesFields\":[],\"nodeVidShow\":true,\"showTagFields\":[],\"showEdgeFields\":[],\"filterExclusionIds\":{},\"layout\":\"force\",\"viewMode\":\"2d\",\"showTableData\":false,\"detectionMode\":\"\",\"tableData\":{},\"edgePropsCalcItems\":[],\"transform\":{\"k\":1.001,\"x\":1.9980019980019983,\"y\":19.647019647019555},\"threeGraphData\":{\"mode\":1},\"vertexFilters\":[],\"tagFilteredSet\":[]}"},
            {"name":"重复名称","space":"demo_basketballplayer","data":"{\"imagesCache\":[],\"name\":\"demo_basketballplayer\",\"space\":\"demo_basketballplayer\",\"nowDataMap\":{\"player102\":{\"id\":\"player102\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":33,\"name\":\"LaMarcus Aldridge\"}},\"color\":\"#FF7875\",\"x\":-2.871661242132006e-15,\"y\":170.4171690600338,\"label\":\"player102\",\"vx\":-7.28583859910259e-18,\"vy\":0.05283661135589722,\"__indexColor\":\"#000005\",\"index\":0},\"player106\":{\"id\":\"player106\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":25,\"name\":\"Kyle Anderson\"}},\"color\":\"#FF7875\",\"x\":162.26911528928042,\"y\":52.72424701222291,\"label\":\"player106\",\"vx\":0.05293665260711453,\"vy\":0.01719449015869909,\"__indexColor\":\"#00000a\",\"index\":1},\"player115\":{\"id\":\"player115\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":40,\"name\":\"Kobe Bryant\"}},\"color\":\"#FF7875\",\"x\":100.16895626609008,\"y\":-137.87074019658473,\"label\":\"player115\",\"vx\":0.031064500462655322,\"vy\":-0.04275660930363182,\"__indexColor\":\"#00000f\",\"index\":2},\"player129\":{\"id\":\"player129\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":37,\"name\":\"Dwyane Wade\"}},\"color\":\"#FF7875\",\"x\":-100.16895626609005,\"y\":-137.87074019658476,\"label\":\"player129\",\"vx\":-0.031064500462655315,\"vy\":-0.042756609303631815,\"__indexColor\":\"#000014\",\"index\":3},\"player138\":{\"id\":\"player138\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":38,\"name\":\"Paul Gasol\"}},\"color\":\"#FF7875\",\"x\":-162.26911528928045,\"y\":52.724247012222875,\"label\":\"player138\",\"vx\":-0.05293665260711455,\"vy\":0.017194490158699085,\"__indexColor\":\"#000019\",\"index\":4}},\"nodes\":[],\"links\":[],\"nodesSelected\":[],\"linksSelected\":[],\"nodeHovering\":null,\"nodeDragging\":null,\"hideTooltip\":false,\"linkHovering\":null,\"filterIds\":[],\"handleMode\":\"\",\"exploreRules\":{\"edgeTypes\":[],\"edgeDirection\":\"outgoing\",\"stepsType\":\"single\",\"step\":1,\"vertexStyle\":\"groupByTag\"},\"tagsFields\":[],\"tags\":[\"player\",\"team\"],\"edgeTypes\":[\"follow\",\"serve\"],\"spaceVidType\":\"FIXED_STRING(32)\",\"edgesFields\":[],\"nodeVidShow\":true,\"showTagFields\":[],\"showEdgeFields\":[],\"filterExclusionIds\":{},\"layout\":\"force\",\"viewMode\":\"2d\",\"showTableData\":false,\"detectionMode\":\"\",\"tableData\":{},\"edgePropsCalcItems\":[],\"transform\":{\"k\":1.001,\"x\":1.9980019980019983,\"y\":19.647019647019555},\"threeGraphData\":{\"mode\":1},\"vertexFilters\":[],\"tagFilteredSet\":[]}"},
            {"name":"特殊字符汉字English！-！#@#￥%……&*","notes":"QA","space":"demo_basketballplayer","data":"{\"imagesCache\":[],\"name\":\"demo_basketballplayer\",\"space\":\"demo_basketballplayer\",\"nowDataMap\":{\"player102\":{\"id\":\"player102\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":33,\"name\":\"LaMarcus Aldridge\"}},\"color\":\"#FF7875\",\"x\":-2.871661242132006e-15,\"y\":170.4171690600338,\"label\":\"player102\",\"vx\":-7.28583859910259e-18,\"vy\":0.05283661135589722,\"__indexColor\":\"#000005\",\"index\":0},\"player106\":{\"id\":\"player106\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":25,\"name\":\"Kyle Anderson\"}},\"color\":\"#FF7875\",\"x\":162.26911528928042,\"y\":52.72424701222291,\"label\":\"player106\",\"vx\":0.05293665260711453,\"vy\":0.01719449015869909,\"__indexColor\":\"#00000a\",\"index\":1},\"player115\":{\"id\":\"player115\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":40,\"name\":\"Kobe Bryant\"}},\"color\":\"#FF7875\",\"x\":100.16895626609008,\"y\":-137.87074019658473,\"label\":\"player115\",\"vx\":0.031064500462655322,\"vy\":-0.04275660930363182,\"__indexColor\":\"#00000f\",\"index\":2},\"player129\":{\"id\":\"player129\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":37,\"name\":\"Dwyane Wade\"}},\"color\":\"#FF7875\",\"x\":-100.16895626609005,\"y\":-137.87074019658476,\"label\":\"player129\",\"vx\":-0.031064500462655315,\"vy\":-0.042756609303631815,\"__indexColor\":\"#000014\",\"index\":3},\"player138\":{\"id\":\"player138\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":38,\"name\":\"Paul Gasol\"}},\"color\":\"#FF7875\",\"x\":-162.26911528928045,\"y\":52.724247012222875,\"label\":\"player138\",\"vx\":-0.05293665260711455,\"vy\":0.017194490158699085,\"__indexColor\":\"#000019\",\"index\":4}},\"nodes\":[\"player102\",\"player106\",\"player115\",\"player129\",\"player138\"],\"links\":[],\"nodesSelected\":[],\"linksSelected\":[],\"nodeHovering\":null,\"nodeDragging\":null,\"hideTooltip\":false,\"linkHovering\":null,\"filterIds\":[],\"handleMode\":\"\",\"exploreRules\":{\"edgeTypes\":[],\"edgeDirection\":\"outgoing\",\"stepsType\":\"single\",\"step\":1,\"vertexStyle\":\"groupByTag\"},\"tagsFields\":[],\"tags\":[\"player\",\"team\"],\"edgeTypes\":[\"follow\",\"serve\"],\"spaceVidType\":\"FIXED_STRING(32)\",\"edgesFields\":[],\"nodeVidShow\":true,\"showTagFields\":[],\"showEdgeFields\":[],\"filterExclusionIds\":{},\"layout\":\"force\",\"viewMode\":\"2d\",\"showTableData\":false,\"detectionMode\":\"\",\"tableData\":{},\"edgePropsCalcItems\":[],\"transform\":{\"k\":1.001,\"x\":4.9950049950049955,\"y\":35.298035298035224},\"threeGraphData\":{\"mode\":1},\"vertexFilters\":[],\"tagFilteredSet\":[]}"},
            {"name":"int-spaces","space":"sf1","data":"{\"imagesCache\":[],\"name\":\"sf1\",\"space\":\"sf1\",\"nowDataMap\":{\"412317515776\":{\"id\":412317515776,\"tags\":[\"Comment\"],\"properties\":{\"Comment\":{\"browserUsed\":\"Chrome\",\"content\":\"cool\",\"creationDate\":\"2010-08-18T01:36:23.000000\",\"length\":4,\"locationIP\":\"61.14.216.12\"}},\"color\":\"#FF7875\",\"x\":-2.871661242132006e-15,\"y\":170.4171690600338,\"label\":\"412317515776\",\"vx\":-7.28583859910259e-18,\"vy\":0.05283661135589722,\"__indexColor\":\"#000005\",\"index\":0},\"1924146135040\":{\"id\":1924146135040,\"tags\":[\"Comment\"],\"properties\":{\"Comment\":{\"browserUsed\":\"Chrome\",\"content\":\"right\",\"creationDate\":\"2012-05-09T03:09:07.000000\",\"length\":5,\"locationIP\":\"27.116.50.27\"}},\"color\":\"#FF7875\",\"x\":162.26911528928042,\"y\":52.72424701222291,\"label\":\"1924146135040\",\"vx\":0.05293665260711453,\"vy\":0.01719449015869909,\"__indexColor\":\"#00000a\",\"index\":1},\"1649268293632\":{\"id\":1649268293632,\"tags\":[\"Post\"],\"properties\":{\"Post\":{\"browserUsed\":\"Internet Explorer\",\"content\":\"\",\"creationDate\":\"2012-02-02T20:39:02.000000\",\"imageFile\":\"photo1649268293632.jpg\",\"language\":\"\",\"length\":0,\"locationIP\":\"36.37.93.146\"}},\"color\":\"#FF9C6E\",\"x\":100.16895626609008,\"y\":-137.87074019658473,\"label\":\"1649268293632\",\"vx\":0.031064500462655322,\"vy\":-0.04275660930363182,\"__indexColor\":\"#00000f\",\"index\":2},\"1924147707904\":{\"id\":1924147707904,\"tags\":[\"Post\"],\"properties\":{\"Post\":{\"browserUsed\":\"Internet Explorer\",\"content\":\"\",\"creationDate\":\"2012-06-17T08:45:38.000000\",\"imageFile\":\"photo1924147707904.jpg\",\"language\":\"\",\"length\":0,\"locationIP\":\"41.127.93.9\"}},\"color\":\"#FF9C6E\",\"x\":-100.16895626609005,\"y\":-137.87074019658476,\"label\":\"1924147707904\",\"vx\":-0.031064500462655315,\"vy\":-0.042756609303631815,\"__indexColor\":\"#000014\",\"index\":3},\"962075754496\":{\"id\":962075754496,\"tags\":[\"Post\"],\"properties\":{\"Post\":{\"browserUsed\":\"Opera\",\"content\":\"\",\"creationDate\":\"2011-03-08T12:43:55.000000\",\"imageFile\":\"photo962075754496.jpg\",\"language\":\"\",\"length\":0,\"locationIP\":\"146.134.240.62\"}},\"color\":\"#FF9C6E\",\"x\":-162.26911528928045,\"y\":52.724247012222875,\"label\":\"962075754496\",\"vx\":-0.05293665260711455,\"vy\":0.017194490158699085,\"__indexColor\":\"#000019\",\"index\":4}},\"nodes\":[412317515776,1924146135040,1649268293632,1924147707904,962075754496],\"links\":[],\"nodesSelected\":[],\"linksSelected\":[],\"nodeHovering\":null,\"nodeDragging\":null,\"hideTooltip\":false,\"linkHovering\":null,\"filterIds\":[],\"handleMode\":\"\",\"exploreRules\":{\"edgeTypes\":[],\"edgeDirection\":\"outgoing\",\"stepsType\":\"single\",\"step\":1,\"vertexStyle\":\"groupByTag\"},\"tagsFields\":[],\"tags\":[\"Comment\",\"Forum\",\"Organisation\",\"Person\",\"Place\",\"Post\",\"Tag\",\"Tagclass\"],\"edgeTypes\":[\"CONTAINER_OF\",\"HAS_CREATOR\",\"HAS_INTEREST\",\"HAS_MEMBER\",\"HAS_MODERATOR\",\"HAS_TAG\",\"HAS_TYPE\",\"IS_LOCATED_IN\",\"IS_PART_OF\",\"IS_SUBCLASS_OF\",\"KNOWS\",\"LIKES\",\"REPLY_OF\",\"STUDY_AT\",\"WORK_AT\"],\"spaceVidType\":\"INT64\",\"edgesFields\":[],\"nodeVidShow\":true,\"showTagFields\":[],\"showEdgeFields\":[],\"filterExclusionIds\":{},\"layout\":\"force\",\"viewMode\":\"2d\",\"showTableData\":false,\"detectionMode\":\"\",\"tableData\":{},\"edgePropsCalcItems\":[],\"transform\":{\"k\":1.001,\"x\":0,\"y\":-1.665001665001741},\"threeGraphData\":{\"mode\":1},\"vertexFilters\":[],\"tagFilteredSet\":[]}"},
            {"name":"不存在的spaces","space":"不存在","data":"{\"imagesCache\":[],\"name\":\"demo_basketballplayer\",\"space\":\"demo_basketballplayer\",\"nowDataMap\":{\"player102\":{\"id\":\"player102\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":33,\"name\":\"LaMarcus Aldridge\"}},\"color\":\"#FF7875\",\"x\":-2.871661242132006e-15,\"y\":170.4171690600338,\"label\":\"player102\",\"vx\":-7.28583859910259e-18,\"vy\":0.05283661135589722,\"__indexColor\":\"#000005\",\"index\":0},\"player106\":{\"id\":\"player106\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":25,\"name\":\"Kyle Anderson\"}},\"color\":\"#FF7875\",\"x\":162.26911528928042,\"y\":52.72424701222291,\"label\":\"player106\",\"vx\":0.05293665260711453,\"vy\":0.01719449015869909,\"__indexColor\":\"#00000a\",\"index\":1},\"player115\":{\"id\":\"player115\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":40,\"name\":\"Kobe Bryant\"}},\"color\":\"#FF7875\",\"x\":100.16895626609008,\"y\":-137.87074019658473,\"label\":\"player115\",\"vx\":0.031064500462655322,\"vy\":-0.04275660930363182,\"__indexColor\":\"#00000f\",\"index\":2},\"player129\":{\"id\":\"player129\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":37,\"name\":\"Dwyane Wade\"}},\"color\":\"#FF7875\",\"x\":-100.16895626609005,\"y\":-137.87074019658476,\"label\":\"player129\",\"vx\":-0.031064500462655315,\"vy\":-0.042756609303631815,\"__indexColor\":\"#000014\",\"index\":3},\"player138\":{\"id\":\"player138\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":38,\"name\":\"Paul Gasol\"}},\"color\":\"#FF7875\",\"x\":-162.26911528928045,\"y\":52.724247012222875,\"label\":\"player138\",\"vx\":-0.05293665260711455,\"vy\":0.017194490158699085,\"__indexColor\":\"#000019\",\"index\":4}},\"nodes\":[],\"links\":[],\"nodesSelected\":[],\"linksSelected\":[],\"nodeHovering\":null,\"nodeDragging\":null,\"hideTooltip\":false,\"linkHovering\":null,\"filterIds\":[],\"handleMode\":\"\",\"exploreRules\":{\"edgeTypes\":[],\"edgeDirection\":\"outgoing\",\"stepsType\":\"single\",\"step\":1,\"vertexStyle\":\"groupByTag\"},\"tagsFields\":[],\"tags\":[\"player\",\"team\"],\"edgeTypes\":[\"follow\",\"serve\"],\"spaceVidType\":\"FIXED_STRING(32)\",\"edgesFields\":[],\"nodeVidShow\":true,\"showTagFields\":[],\"showEdgeFields\":[],\"filterExclusionIds\":{},\"layout\":\"force\",\"viewMode\":\"2d\",\"showTableData\":false,\"detectionMode\":\"\",\"tableData\":{},\"edgePropsCalcItems\":[],\"transform\":{\"k\":1.001,\"x\":1.9980019980019983,\"y\":19.647019647019555},\"threeGraphData\":{\"mode\":1},\"vertexFilters\":[],\"tagFilteredSet\":[]}"}
        ]
        for data in Parameters:
            code = InterfaceExplorer.add_Snapshot(data).json()["code"]
            assert 0 == code

        # 缺少参数
        data = {"name":"","space":""}
        code = InterfaceExplorer.add_Snapshot(data).json()["code"]
        assert 40004001 == code

        # 查看列表并判断
        json_data = InterfaceExplorer.get_Snapshot().json()
        assert "不存在的spaces" == json_data["data"]["snapshots"][0]["name"]
        assert "int-spaces" == json_data["data"]["snapshots"][1]["name"]
        assert "特殊字符汉字English！-！#@#￥%……&*" == json_data["data"]["snapshots"][2]["name"]
        assert "重复名称" == json_data["data"]["snapshots"][3]["name"]
        assert "重复名称" == json_data["data"]["snapshots"][4]["name"]
        assert "无数据" == json_data["data"]["snapshots"][5]["name"]
        assert "5个数据" == json_data["data"]["snapshots"][6]["name"]

        # 循环删除快照
        id = [7,6,5,4,3,2,1]
        for snapshot_id in id:
            code = InterfaceExplorer.delete_Snapshot(snapshot_id).json()["code"]
            assert 0 == code

        # 删除快照 参数为空
        snapshot_id =  []
        code = InterfaceExplorer.delete_Snapshot(snapshot_id).json()["code"]
        assert 40004001 == code

        # 创建200个快照
        for i in range(200):
            data = {"name":"200个快照","notes":"QA","space":"demo_basketballplayer","data":"{\"imagesCache\":[],\"name\":\"demo_basketballplayer\",\"space\":\"demo_basketballplayer\",\"nowDataMap\":{\"player102\":{\"id\":\"player102\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":33,\"name\":\"LaMarcus Aldridge\"}},\"color\":\"#FF7875\",\"x\":-2.871661242132006e-15,\"y\":170.4171690600338,\"label\":\"player102\",\"vx\":-7.28583859910259e-18,\"vy\":0.05283661135589722,\"__indexColor\":\"#000005\",\"index\":0},\"player106\":{\"id\":\"player106\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":25,\"name\":\"Kyle Anderson\"}},\"color\":\"#FF7875\",\"x\":162.26911528928042,\"y\":52.72424701222291,\"label\":\"player106\",\"vx\":0.05293665260711453,\"vy\":0.01719449015869909,\"__indexColor\":\"#00000a\",\"index\":1},\"player115\":{\"id\":\"player115\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":40,\"name\":\"Kobe Bryant\"}},\"color\":\"#FF7875\",\"x\":100.16895626609008,\"y\":-137.87074019658473,\"label\":\"player115\",\"vx\":0.031064500462655322,\"vy\":-0.04275660930363182,\"__indexColor\":\"#00000f\",\"index\":2},\"player129\":{\"id\":\"player129\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":37,\"name\":\"Dwyane Wade\"}},\"color\":\"#FF7875\",\"x\":-100.16895626609005,\"y\":-137.87074019658476,\"label\":\"player129\",\"vx\":-0.031064500462655315,\"vy\":-0.042756609303631815,\"__indexColor\":\"#000014\",\"index\":3},\"player138\":{\"id\":\"player138\",\"tags\":[\"player\"],\"properties\":{\"player\":{\"age\":38,\"name\":\"Paul Gasol\"}},\"color\":\"#FF7875\",\"x\":-162.26911528928045,\"y\":52.724247012222875,\"label\":\"player138\",\"vx\":-0.05293665260711455,\"vy\":0.017194490158699085,\"__indexColor\":\"#000019\",\"index\":4}},\"nodes\":[\"player102\",\"player106\",\"player115\",\"player129\",\"player138\"],\"links\":[],\"nodesSelected\":[],\"linksSelected\":[],\"nodeHovering\":null,\"nodeDragging\":null,\"hideTooltip\":false,\"linkHovering\":null,\"filterIds\":[],\"handleMode\":\"\",\"exploreRules\":{\"edgeTypes\":[],\"edgeDirection\":\"outgoing\",\"stepsType\":\"single\",\"step\":1,\"vertexStyle\":\"groupByTag\"},\"tagsFields\":[],\"tags\":[\"player\",\"team\"],\"edgeTypes\":[\"follow\",\"serve\"],\"spaceVidType\":\"FIXED_STRING(32)\",\"edgesFields\":[],\"nodeVidShow\":true,\"showTagFields\":[],\"showEdgeFields\":[],\"filterExclusionIds\":{},\"layout\":\"force\",\"viewMode\":\"2d\",\"showTableData\":false,\"detectionMode\":\"\",\"tableData\":{},\"edgePropsCalcItems\":[],\"transform\":{\"k\":1.001,\"x\":4.9950049950049955,\"y\":35.298035298035224},\"threeGraphData\":{\"mode\":1},\"vertexFilters\":[],\"tagFilteredSet\":[]}"}
            code = InterfaceExplorer.add_Snapshot(data).json()["code"]
            assert 0 == code

        # 删除200个快照
        for snapshot_id in range(201):
            code = InterfaceExplorer.delete_Snapshot(snapshot_id).json()["code"]
            assert 0 == code

        # 查看列表判断
        snapshot_list = InterfaceExplorer.get_Snapshot().json()
        assert 0 == snapshot_list["data"]["total"]